test-client:
    stage: test
    image: gcc
    before_script:
        - >
            apt-get update -yqq &&
            apt-get install -yqq
            cmake qt6-base-dev clang-format
        - cd client
    script:
        - make lint
        - make
        - make test

test-server:
    stage: test
    image: python:3.10
    before_script:
        - pip install --upgrade pip
        - cd server
        - pip install -r requirements.txt
    script:
        ./lint.py
        ./manage.py migrate
        ./manage.py test
